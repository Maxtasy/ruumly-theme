{% doc %}
  Renders a Product Form component.

  @param {object} product - The product object containing options and values.
  @param {string} [name_prefix] - The prefix for the name attribute of the input elements.
  @param {boolean} [update_variant_url_parameter] - Whether to update the `variant` URL parameter in the URL when the selected variant changes.
  @param {object} [blocks] - The blocks object of a section (for example product configurator).
{% enddoc %}

<form
  is="product-form-component"
  class="ProductForm"
  data-update-variant-url-parameter="{{ update_variant_url_parameter | default: false }}"
>
  {% for block in blocks %}
    {% case block.type %}
      {% when 'title' %}
        {% render 'text', text: product.title, variant: 'heading-small', as: 'h1' %}

      {% when 'product-variant-selector' %}
        {% render 'product-variant-selector',
          product: product,
          name_prefix: name_prefix,
          visually_hidden: product.has_only_default_variant
        %}
    {% endcase %}
  {% endfor %}

  {% render 'button', text: 'Add to cart', action: 'add-to-cart' %}
</form>

{% stylesheet %}
  .ProductForm {
    display: flex;
    flex-direction: column;
    gap: var(--size-m);
    padding: var(--size-m);
    background-color: var(--t-background);
    background: var(--t-gradient-background);
    border: var(--border-width) solid var(--t-border-card);
    border-top-color: var(--t-highlight);
    border-radius: var(--t-border-radius);
    box-shadow: var(--box-shadow);
  }

  @media screen and (min-width: 769px) {
    .ProductForm {
      padding: var(--size-xl);
    }
  }
{% endstylesheet %}
