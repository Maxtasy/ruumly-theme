{% doc %}
  Renders a Quantity Selector component.

  @param {number} quantity - The currently selected quantity.
{% enddoc %}

<div is="quantity-selector-component" class="QuantitySelector">
  {% render 'button',
    variant: 'plain',
    icon: 'minus',
    action: 'decrement',
    size: 'small',
    aria_label_key: 'components.minus_button.aria_label',
    type: 'button'
  %}

  <div class="QuantitySelector__Loading">
    <div class="LoadingSpinner">
      {% render 'icon', icon: 'loader-circle', size: 'small' %}
    </div>
  </div>

  <span class="QuantitySelector__Quantity">
    {{ quantity }}
  </span>

  {% render 'button',
    variant: 'plain',
    icon: 'plus',
    action: 'increment',
    size: 'small',
    aria_label_key: 'components.plus_button.aria_label',
    type: 'button'
  %}
</div>

{% stylesheet %}
  .QuantitySelector {
    position: relative;
    display: flex;
    align-items: center;
    gap: var(--size-s);
  }

  .LoadingSpinner .Icon {
    animation: spin 1s infinite ease-in-out;
  }

  .QuantitySelector__Loading {
    position: absolute;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    background-color: rgb(0, 0, 0, 0.05);
    border-radius: var(--t-border-radius);
  }

  .QuantitySelector__Loading--Active {
    display: flex;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
{% endstylesheet %}
