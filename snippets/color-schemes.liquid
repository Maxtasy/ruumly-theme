{%- liquid
  assign body_font_bold = settings.type_body_font | font_modify: 'weight', 'bold'
  assign body_font_italic = settings.type_body_font | font_modify: 'style', 'italic'
  assign body_font_bold_italic = body_font_bold | font_modify: 'style', 'italic'
%}

{% style %}
  {{ settings.type_body_font | font_face: font_display: 'swap' }}
  {{ body_font_bold | font_face: font_display: 'swap' }}
  {{ body_font_italic | font_face: font_display: 'swap' }}
  {{ body_font_bold_italic | font_face: font_display: 'swap' }}
  {{ settings.type_header_font | font_face: font_display: 'swap' }}

  {% for scheme in settings.color_schemes -%}
    {% if forloop.first %}
      :root,
    {% endif %}

    .ColorScheme--{{ scheme.id | camelcase }} {
      --t-background-dark: {{ scheme.settings.background_dark | color_to_oklch }};
      --t-background: {{ scheme.settings.background | color_to_oklch }};
      --t-background-light: {{ scheme.settings.background_light | color_to_oklch }};

      --t-background-light-hover: {{ scheme.settings.background_light | color_darken: 10 | color_to_oklch }};
      --t-background-light-opaque: {{ scheme.settings.background_light | color_modify: 'alpha', 0.66 | color_to_oklch }};

      --t-gradient-background-dark: {{ scheme.settings.background_gradient_dark }};
      --t-gradient-background: {{ scheme.settings.background_gradient }};

      --t-text: {{ scheme.settings.text | color_to_oklch }};
      --t-text-muted: {{ scheme.settings.text_muted | color_to_oklch }};

      --t-link: {{ scheme.settings.link | color_to_oklch }};
      --t-link-hover: {{ scheme.settings.link | color_darken: 10 | color_to_oklch }};

      --t-highlight: {{ scheme.settings.highlight | color_to_oklch }};
      --t-border: {{ scheme.settings.border | color_to_oklch }};
      --t-border-muted: {{ scheme.settings.border_muted | color_to_oklch }};

      --t-primary: {{ scheme.settings.primary | color_to_oklch }};

      --t-primary-hover: {{ scheme.settings.primary | color_darken: 10 | color_to_oklch }};

      --t-secondary: {{ scheme.settings.secondary | color_to_oklch }};

      --t-secondary-hover: {{ scheme.settings.secondary | color_darken: 10 | color_to_oklch }};

      --t-backdrop-background-color: rgba(0, 0, 0, 0.5);

      --t-danger: {{ scheme.settings.danger | color_to_oklch }};
      --t-warning: {{ scheme.settings.warning | color_to_oklch }};
      --t-success: {{ scheme.settings.success | color_to_oklch }};
      --t-info: {{ scheme.settings.info | color_to_oklch }};

      {% if scheme.id == 'secondary' %}
        --t-border-card: var(--t-border);
        --t-text-sale: var(--t-text);
      {% else %}
        --t-border-card: var(--t-background);
        --t-text-sale: var(--t-background-dark);
      {% endif %}
    }
  {% endfor %}

  :root {
    --font-body-family: {{ settings.type_body_font.family }}, {{ settings.type_body_font.fallback_families }};
    --font-body-style: {{ settings.type_body_font.style }};
    --font-body-weight: {{ settings.type_body_font.weight }};
    --font-body-weight-bold: {{ settings.type_body_font.weight | plus: 300 | at_most: 1000 }};

    --font-heading-family: {{ settings.type_header_font.family }}, {{ settings.type_header_font.fallback_families }};
    --font-heading-style: {{ settings.type_header_font.style }};
    --font-heading-weight: {{ settings.type_header_font.weight }};

    --page-width: {{ settings.page_width }}px;
  }
{% endstyle %}
