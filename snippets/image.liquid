{% doc %}
  Renders an Image component.

  @param {object} image - The image object containing the source and alt text.
  @param {string} [variant] - Image variant (portrait, landscape, square).
  @param {boolean} [loading] - The loading attribute for the image, defaults to 'lazy'.
  @param {boolean} [preload] - Whether to preload the image, defaults to false.
{% enddoc %}

{% liquid
  # Handle defaults.
  assign variant = variant | default: 'square'
  assign loading = loading | default: 'lazy'
  assign preload = preload | default: false
%}

<picture
  class="Image Image--{{ variant | camelcase }}"
>
  {{
    image
    | image_url: width: image.width
    | image_tag: class: 'Image__Inner', alt: image.alt, loading: loading, preload: preload
  }}
</picture>

{% stylesheet %}
  .Image {
    display: block;
    height: 100%;
    width: 100%;
  }

  .Image--Portrait {
    --aspect-ratio: 3/4;
  }

  .Image--Landscape {
    --aspect-ratio: 4/3;
  }

  .Image--Square {
    --aspect-ratio: 1;
  }

  .Image__Inner {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    aspect-ratio: var(--aspect-ratio);
  }
{% endstylesheet %}
