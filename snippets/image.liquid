{% doc %}
  Renders an Image component.

  @param {object} image - The image object containing the source and alt text.
  @param {string} [variant] - Image variant (portrait, landscape, square)
  @param {number} [width] - The desired render width of the image.
  @param {number} [height] - The desired render height of the image.
  @param {boolean} [loading] - The loading attribute for the image, defaults to 'lazy'.
{% enddoc %}

{% liquid
  # Handle defaults.
  assign variant = variant | default: 'landscape'
  assign width = width | default: image.width
  assign height = height | default: image.height
  assign loading = loading | default: 'lazy'
%}

<div
  class="Image Image--{{ variant | camelcase }}"
>
  <img
    class="Image__Inner"
    src="{{ image | image_url: width: width, height: height }}"
    alt="{{ image.alt | escape }}"
    loading="{{ loading }}"
    width="{{ width }}"
    height="{{ height }}"
  >
</div>

{% stylesheet %}
  .Image {
    display: block;
    width: 100%;
    height: auto;
  }

  .Image--Portrait {
    aspect-ratio: 3/4;
  }

  .Image--Landscape {
    aspect-ratio: 4/3;
  }

  .Image--Square {
    aspect-ratio: 1;
  }

  .Image__Inner {
    object-fit: cover;
    display: block;
    width: 100%;
    height: 100%;
  }
{% endstylesheet %}
