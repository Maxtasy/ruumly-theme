<section class="Section Section--PaddingBlockMedium">
  <div class="Section__Inner">
    <div class="ProductConfigurator">
      <div class="ProductConfigurator__Gallery">
        {% render 'gallery', images: product.images, variant: section.settings.gallery %}
      </div>

      <div class="ProductConfigurator__Form">
        {% render 'product-form',
          product: product,
          name_prefix: section.id,
          update_variant_url_parameter: true,
          blocks: section.blocks
        %}
      </div>
    </div>
  </div>
</section>

{% stylesheet %}
  .ProductConfigurator {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .ProductConfigurator__Gallery {
    width: 100%;
    aspect-ratio: 1;
  }

  @media screen and (min-width: 769px) {
    .ProductConfigurator {
      flex-direction: row;
    }

    .ProductConfigurator__Gallery {
      /* Takes up all the remaining space */
      flex-grow: 1;

      width: auto;
    }

    .ProductConfigurator__Form {
      width: 40%;
      flex-shrink: 0;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:sections.product_configurator.name",
  "settings": [
    {
      "type": "header",
      "content": "t:sections.all.headers.section_appearance.content"
    },
    {
      "type": "select",
      "id": "gallery",
      "label": "Gallery",
      "default": "slider",
      "options": [
        { "value": "stack", "label": "Stack" },
        { "value": "slider", "label": "Slider" },
        { "value": "grid", "label": "Grid" }
      ]
    }
  ],
  "blocks": [
    {
      "name": "t:blocks.titel.name",
      "type": "title"
    },
    {
      "name": "t:blocks.product_variant_selector.name",
      "type": "product-variant-selector",
      "limit": 1
    },
    {
      "name": "t:blocks.price_list.name",
      "type": "price-list"
    },
    {
      "name": "t:blocks.quantity_selector.name",
      "type": "quantity-selector",
      "limit": 1
    },
    {
      "name": "t:blocks.product_rating.name",
      "type": "product-rating"
    },
    {
      "name": "t:blocks.buy_buttons.name",
      "type": "buy-buttons",
      "limit": 1
    },
    {
      "name": "t:blocks.shipping_estimation.name",
      "type": "shipping-estimation"
    },
    {
      "name": "t:blocks.selling_points.name",
      "type": "selling-points"
    }
  ]
}
{% endschema %}
